<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MotionLife Player Monitor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'glow': 'glow 2s ease-in-out infinite alternate',
            'fadeIn': 'fadeIn 0.6s ease-in-out forwards',
            'slideIn': 'slideIn 0.5s ease-out forwards',
            'pulse-strong': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' },
            },
            glow: {
              '0%': { boxShadow: '0 0 5px #10B981, 0 0 10px #10B981' },
              '100%': { boxShadow: '0 0 15px #10B981, 0 0 30px #10B981' },
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideIn: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            }
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    /* Base styles */
    body {
      margin: 0;
      overflow-x: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
      color: white;
    }

    /* Light mode */
    .light-mode {
      background: #f8fafc;
      color: #1f2937;
    }

    /* iOS-inspired design elements */
    .ios-glass {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .ios-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .ios-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
      background: rgba(255, 255, 255, 0.08);
    }

    /* Custom scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(16, 185, 129, 0.5);
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(16, 185, 129, 0.7);
    }

    .ping-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 8px;
    }

    .ping-excellent { background-color: #10B981; }
    .ping-good { background-color: #22C55E; }
    .ping-medium { background-color: #F59E0B; }
    .ping-poor { background-color: #EF4444; }

    .maintenance-banner {
      background: linear-gradient(90deg, #F59E0B, #EF4444);
      animation: pulse 2s infinite;
    }

    /* New enhanced styles */
    .glass-effect {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .neon-glow {
      box-shadow: 0 0 5px #10B981, 0 0 10px #10B981, 0 0 15px #10B981;
    }

    .skeleton-loading {
      background: linear-gradient(90deg, #1F2937 25%, #2D3748 50%, #1F2937 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .gradient-bg {
      background: linear-gradient(-45deg, #0f172a, #111827, #1e293b, #1f2937);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .typewriter {
      overflow: hidden;
      border-right: .15em solid #10B981;
      white-space: nowrap;
      animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #10B981; }
    }

    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .toast {
      position: fixed;
      bottom: 120px;
      right: 20px;
      padding: 15px 25px;
      background: rgba(31, 41, 55, 0.8);
      backdrop-filter: blur(10px);
      color: white;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    .holographic-effect {
      background: linear-gradient(125deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
      background-size: 200% 200%;
      animation: holographic 3s ease infinite;
    }

    @keyframes holographic {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .cyber-border {
      position: relative;
      border: 1px solid transparent;
      background-clip: padding-box;
    }

    .cyber-border::before {
      content: '';
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      z-index: -1;
      margin: -2px;
      border-radius: inherit;
      background: linear-gradient(45deg, #10B981, #3B82F6, #10B981);
      animation: border-flow 3s linear infinite;
      background-size: 200% 200%;
    }

    @keyframes border-flow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .scanline {
      position: relative;
      overflow: hidden;
    }

    .scanline::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 20px;
      background: linear-gradient(to bottom, rgba(16, 185, 129, 0.3), transparent);
      animation: scan 2s linear infinite;
      pointer-events: none;
    }

    @keyframes scan {
      0% { top: -20px; }
      100% { top: 100%; }
    }

    .matrix-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: 0.1;
    }

    .terminal-text {
      font-family: 'Courier New', monospace;
      color: #10B981;
      text-shadow: 0 0 5px rgba(16, 185, 129, 0.3);
    }

    .cyber-button {
      background: linear-gradient(45deg, rgba(16, 185, 129, 0.8), rgba(59, 130, 246, 0.8));
      border: none;
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    }

    .cyber-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
    }

    /* iOS Style Segmented Control */
    .segmented-control {
      display: flex;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 4px;
      margin-bottom: 20px;
    }

    .segmented-control input[type="radio"] {
      display: none;
    }

    .segmented-control label {
      flex: 1;
      padding: 10px 15px;
      text-align: center;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.7);
    }

    .segmented-control input[type="radio"]:checked + label {
      background: rgba(16, 185, 129, 0.2);
      color: #10B981;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Player card styles */
    .player-card {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      margin-bottom: 8px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.05);
      transition: all 0.2s ease;
    }

    .player-card:hover {
      background: rgba(255, 255, 255, 0.06);
      transform: translateX(4px);
    }

    .player-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(45deg, #10B981, #3B82F6);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      font-weight: bold;
      color: white;
    }

    .player-info {
      flex: 1;
    }

    .player-name {
      font-weight: 500;
      margin-bottom: 4px;
      color: white;
    }

    .player-id {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
    }

    .player-ping {
      display: flex;
      align-items: center;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
    }

    /* Footer styles */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 1rem;
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 100;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    .footer:hover {
      transform: translateY(-2px);
    }

    /* Container padding to avoid footer overlap */
    .container {
      padding-bottom: 100px; /* Adjusted to footer height */
    }

    /* Media Queries */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
        padding-bottom: 120px; /* Extra padding for mobile */
      }

      .server-card {
        padding: 1rem;
      }

      .footer {
        padding: 0.75rem;
      }

      .toast {
        bottom: 100px;
        right: 10px;
        padding: 10px 20px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding-bottom: 140px; /* More padding for smaller screens */
      }

      .segmented-control label {
        font-size: 0.9rem;
        padding: 8px 10px;
      }
    }
  </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center justify-start p-4 relative overflow-hidden">

  <!-- Animated Background -->
  <div id="particles-js"></div>
  <canvas id="matrixRain" class="matrix-rain"></canvas>

  <!-- Loading Screen -->
  <div id="loading-screen" class="fixed inset-0 bg-gray-900 flex items-center justify-center z-50">
    <div class="text-center">
      <div class="animate-float">
        <svg class="animate-spin h-16 w-16 text-green-400 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      </div>
      <p class="mt-4 text-green-400 text-xl font-bold typewriter">Initializing Server Connection...</p>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast glass-effect">
    <i class="fas fa-sync-alt mr-2"></i> Data diperbarui
  </div>

  <!-- Main Content -->
  <div class="container w-full max-w-4xl mx-auto mt-8 relative z-10">
    <!-- Maintenance Banner -->
    <div id="maintenance-banner" class="maintenance-banner hidden w-full p-4 rounded-2xl mb-6 text-center font-bold animate-slideIn holographic-effect">
      <i class="fas fa-tools mr-2"></i> Server sedang dalam maintenance (18.00 WIB - selesai)
    </div>

    <div class="text-center mb-8" data-aos="fade-down">
      <h1 class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-400 inline-block px-4 py-2 rounded-2xl">
        MotionLife Server Monitor
      </h1>
      <p class="text-gray-300 mt-3" data-aos="fade-up">Real-time player monitoring system</p>
    </div>

    <!-- Server Status Card -->
    <div class="ios-glass p-6 rounded-2xl mb-6 server-card" data-aos="zoom-in">
      <div class="flex flex-wrap justify-between items-center">
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-green-400 mr-3 animate-pulse-strong"></div>
          <div class="text-lg">Status: <span id="server-status" class="text-green-400 font-bold">Online</span></div>
        </div>
        <div class="text-lg">Pemain: <span id="online-count" class="text-green-400 font-bold">0</span>/<span id="max-players" class="text-gray-400">32</span></div>
        <div class="text-sm text-gray-400">Refresh dalam: <span id="refresh-timer" class="font-bold">15</span>s</div>
      </div>

      <!-- Maintenance Status -->
      <div id="maintenance-status" class="mt-4 p-3 bg-yellow-400/10 rounded-lg text-center hidden animate-slideIn">
        <i class="fas fa-exclamation-triangle text-yellow-400 mr-2"></i>
        <span class="text-yellow-400">Server dalam maintenance (18.00 WIB - selesai)</span>
      </div>
    </div>

    <!-- Tab Navigation -->
    <div class="segmented-control mb-6">
      <input type="radio" id="tab-players" name="tabs" checked>
      <label for="tab-players"><i class="fas fa-users mr-2"></i> Players</label>
      <input type="radio" id="tab-server" name="tabs">
      <label for="tab-server"><i class="fas fa-server mr-2"></i> Server Info</label>
      <input type="radio" id="tab-settings" name="tabs">
      <label for="tab-settings"><i class="fas fa-cog mr-2"></i> Settings</label>
    </div>

    <!-- Search Bar -->
    <div class="relative mb-6" data-aos="fade-up">
      <input type="text" id="search" placeholder="Cari player..." 
        class="w-full p-4 rounded-2xl ios-glass border border-gray-700 focus:border-green-400 focus:outline-none text-white pl-12 focus:animate-glow transition-all duration-300">
      <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
    </div>

    <!-- Players Tab Content -->
    <div id="tab-players-content">
      <div id="player-list" class="rounded-2xl overflow-y-auto custom-scrollbar max-h-[500px] mb-6"></div>
    </div>

    <!-- Server Info Tab Content -->
    <div id="tab-server-content" class="hidden">
      <div class="ios-glass p-6 rounded-2xl mb-6">
        <h2 class="text-xl font-bold mb-4 text-green-400">Server Information</h2>
        <div class="space-y-4">
          <div class="flex justify-between">
            <span class="text-gray-400">Server Name:</span>
            <span id="server-name" class="font-medium">Mengambil info server...</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Game Mode:</span>
            <span class="font-medium">Roleplay</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Map:</span>
            <span class="font-medium">San Andreas</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Uptime:</span>
            <span class="font-medium">99.8%</span>
          </div>
        </div>
      </div>

      <div class="ios-glass p-6 rounded-2xl">
        <h2 class="text-xl font-bold mb-4 text-green-400">Performance Metrics</h2>
        <div class="space-y-4">
          <div>
            <div class="flex justify-between mb-1">
              <span class="text-gray-400">CPU Usage</span>
              <span class="font-medium">42%</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2.5">
              <div class="bg-green-400 h-2.5 rounded-full" style="width: 42%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-1">
              <span class="text-gray-400">Memory Usage</span>
              <span class="font-medium">64%</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2.5">
              <div class="bg-yellow-400 h-2.5 rounded-full" style="width: 64%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-1">
              <span class="text-gray-400">Network Traffic</span>
              <span class="font-medium">28%</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2.5">
              <div class="bg-blue-400 h-2.5 rounded-full" style="width: 28%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Tab Content -->
    <div id="tab-settings-content" class="hidden">
      <div class="ios-glass p-6 rounded-2xl mb-6">
        <h2 class="text-xl font-bold mb-4 text-green-400">Display Settings</h2>
        <div class="space-y-4">
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Dark Mode</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked>
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Animations</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" id="animation-toggle" class="sr-only peer" checked>
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Sound Effects</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
        </div>
      </div>

      <div class="ios-glass p-6 rounded-2xl">
        <h2 class="text-xl font-bold mb-4 text-green-400">Notification Settings</h2>
        <div class="space-y-4">
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Server Updates</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked>
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Maintenance Alerts</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked>
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400">Player Join/Leave</span>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-400"></div>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fixed Footer -->
  <div class="footer">
    <div class="flex justify-between items-center text-sm">
      <div>
        <i class="fas fa-clock mr-2 text-green-400"></i>
        <span id="current-time">Loading waktu...</span>
      </div>
      <div>
        <span class="text-gray-400">MotionLife Monitor &copy; 2023</span>
        <span class="mx-2">•</span>
        <span class="text-green-400" id="connection-status">Connected</span>
      </div>
    </div>
  </div>

  <!-- Floating Action Buttons -->
  <div class="fixed bottom-20 right-4 z-20 flex flex-col space-y-2">
    <div class="relative group">
      <button id="audio-toggle" class="p-3 rounded-full ios-glass shadow-lg hover:animate-glow transition-all duration-300">
        <i class="fas fa-volume-up text-green-400"></i>
      </button>
      <span class="absolute right-14 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity">Toggle Audio</span>
    </div>
    <div class="relative group">
      <button id="dark-mode-toggle" class="p-3 rounded-full ios-glass shadow-lg hover:animate-glow transition-all duration-300">
        <i class="fas fa-moon text-yellow-400"></i>
      </button>
      <span class="absolute right-14 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity">Toggle Dark Mode</span>
    </div>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      once: true,
      easing: 'ease-out-quart'
    });

    // Initialize particles.js
    particlesJS('particles-js', {
      particles: {
        number: { value: 60, density: { enable: true, value_area: 800 } }, // Reduced particle count
        color: { value: "#10B981" },
        shape: { type: "circle" },
        opacity: { value: 0.5, random: true },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#10B981",
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: "none",
          random: true,
          straight: false,
          out_mode: "out",
          bounce: false
        }
      },
      interactivity: {
        detect_on: "canvas",
        events: {
          onhover: { enable: true, mode: "grab" },
          onclick: { enable: true, mode: "push" },
          resize: true
        }
      },
      retina_detect: true
    });

    // Matrix Rain Effect
    const matrixCanvas = document.getElementById('matrixRain');
    const ctx = matrixCanvas.getContext('2d');

    matrixCanvas.width = window.innerWidth;
    matrixCanvas.height = window.innerHeight;

    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$%&^*@#';
    const fontSize = 14;
    const columns = matrixCanvas.width / fontSize;
    const drops = [];

    for (let i = 0; i < columns; i++) {
      drops[i] = 1;
    }

    function drawMatrix() {
      ctx.fillStyle = 'rgba(15, 23, 42, 0.05)';
      ctx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);

      ctx.fillStyle = '#10B981';
      ctx.font = `${fontSize}px monospace`;

      for (let i = 0; i < drops.length; i++) {
        const text = characters.charAt(Math.floor(Math.random() * characters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }

        drops[i]++;
      }
    }

    let matrixInterval = setInterval(drawMatrix, 60); // Increased interval to 60ms for better performance

    // Animation toggle
    const animationToggle = document.getElementById('animation-toggle');
    animationToggle.addEventListener('change', function() {
      if (!this.checked) {
        clearInterval(matrixInterval);
        document.getElementById('particles-js').style.display = 'none';
      } else {
        matrixInterval = setInterval(drawMatrix, 60);
        document.getElementById('particles-js').style.display = 'block';
      }
    });

    // Tab Navigation
    document.querySelectorAll('.segmented-control input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.getElementById('tab-players-content').classList.add('hidden');
        document.getElementById('tab-server-content').classList.add('hidden');
        document.getElementById('tab-settings-content').classList.add('hidden');

        document.getElementById(`tab-${this.id.split('-')[1]}-content`).classList.remove('hidden');
      });
    });

    // Fungsi untuk mencari server ID MotionLife
    async function findMotionLifeServer() {
      try {
        const possibleServerIds = ["5j433z", "motionlife", "motionliferp", "mlrp"];
        let serverData = null;

        for (const id of possibleServerIds) {
          try {
            const response = await fetch(`https://servers-frontend.fivem.net/api/servers/single/${id}`);
            if (response.ok) {
              const data = await response.json();
              if (data.Data && data.Data.hostname && data.Data.hostname.toLowerCase().includes("motionlife")) {
                serverData = { id: id, data: data };
                break;
              }
            }
          } catch (e) {
            console.log(`Server ID ${id} tidak valid:`, e);
          }
        }

        return serverData;
      } catch (error) {
        console.error("Error mencari server:", error);
        return null;
      }
    }

    const refreshInterval = 15; // Detik
    let countdown = refreshInterval;
    let currentServerId = null;

    // Ambil elemen
    const loadingScreen = document.getElementById("loading-screen");
    const onlineCountEl = document.getElementById("online-count");
    const maxPlayersEl = document.getElementById("max-players");
    const refreshTimerEl = document.getElementById("refresh-timer");
    const playerListEl = document.getElementById("player-list");
    const serverNameEl = document.getElementById("server-name");
    const serverStatusEl = document.getElementById("server-status");
    const currentTimeEl = document.getElementById("current-time");
    const maintenanceBanner = document.getElementById("maintenance-banner");
    const maintenanceStatus = document.getElementById("maintenance-status");
    const darkModeToggle = document.getElementById("dark-mode-toggle");
    const audioToggle = document.getElementById("audio-toggle");
    const toast = document.getElementById("toast");
    const connectionStatus = document.getElementById("connection-status");

    // Fungsi untuk mendapatkan kelas warna berdasarkan nilai ping
    function getPingColorClass(ping) {
      if (ping < 50) return "ping-excellent";
      if (ping < 100) return "ping-good";
      if (ping < 200) return "ping-medium";
      return "ping-poor";
    }

    // Fungsi untuk memeriksa apakah server sedang maintenance
    function checkMaintenanceStatus(onlineCount) {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      const currentTime = hours + minutes / 60;

      const maintenanceStart = 11; // 18.00 WIB = 11.00 UTC
      let isMaintenanceTime = currentTime >= maintenanceStart;

      if (isMaintenanceTime && onlineCount > 5) {
        isMaintenanceTime = false;
      }

      return isMaintenanceTime;
    }

    // Fungsi untuk memperbarui waktu
    function updateCurrentTime() {
      const now = new Date();
      const options = { 
        timeZone: 'Asia/Jakarta', 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit',
        hour12: false 
      };
      const timeString = now.toLocaleTimeString('id-ID', options);
      currentTimeEl.textContent = timeString + ' WIB';
    }

    // Fungsi untuk menampilkan toast notifikasi
    function showToast(message) {
      toast.innerHTML = `<i class="fas fa-sync-alt mr-2"></i> ${message}`;
      toast.classList.add('show');

      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Fungsi untuk toggle dark mode
    function toggleDarkMode() {
      document.body.classList.toggle('light-mode');
      const icon = darkModeToggle.querySelector('i');

      if (document.body.classList.contains('light-mode')) {
        document.body.style.background = '#f8fafc';
        document.body.style.color = '#1f2937';
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        icon.classList.remove('text-yellow-400');
        icon.classList.add('text-yellow-500');
      } else {
        document.body.style.background = 'linear-gradient(135deg, #0f172a 0%, #1e293b 100%)';
        document.body.style.color = 'white';
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        icon.classList.remove('text-yellow-500');
        icon.classList.add('text-yellow-400');
      }
    }

    // Event listener untuk dark mode toggle
    darkModeToggle.addEventListener('click', toggleDarkMode);

    // Audio toggle
    let audioEnabled = false;
    audioToggle.addEventListener('click', function() {
      audioEnabled = !audioEnabled;
      const icon = audioToggle.querySelector('i');

      if (audioEnabled) {
        icon.classList.remove('fa-volume-up');
        icon.classList.add('fa-volume-mute');
        clearInterval(matrixInterval);
      } else {
        icon.classList.remove('fa-volume-mute');
        icon.classList.add('fa-volume-up');
        matrixInterval = setInterval(drawMatrix, 60);
      }
    });

    async function fetchData() {
      try {
        if (!currentServerId) {
          loadingScreen.querySelector('p').textContent = "Mencari server MotionLife...";
          const serverInfo = await findMotionLifeServer();

          if (serverInfo) {
            currentServerId = serverInfo.id;
            serverNameEl.textContent = serverInfo.data.Data.hostname;
            updateServerInfo(serverInfo.data);
            connectionStatus.textContent = "Connected";
            connectionStatus.classList.add("text-green-400");
          } else {
            throw new Error("Server MotionLife tidak ditemukan");
          }
        }

        const apiURL = `https://servers-frontend.fivem.net/api/servers/single/${currentServerId}`;
        const res = await fetch(apiURL);
        const data = await res.json();

        const players = data.Data.players;
        const onlineCount = data.Data.clients;
        onlineCountEl.textContent = onlineCount;

        updateServerInfo(data);

        const isMaintenance = checkMaintenanceStatus(onlineCount);

        if (isMaintenance) {
          maintenanceBanner.classList.remove("hidden");
          maintenanceStatus.classList.remove("hidden");
          serverStatusEl.textContent = "Maintenance";
          serverStatusEl.classList.remove("text-green-400");
          serverStatusEl.classList.add("text-yellow-400");
        } else {
          maintenanceBanner.classList.add("hidden");
          maintenanceStatus.classList.add("hidden");
          serverStatusEl.textContent = "Online";
          serverStatusEl.classList.remove("text-yellow-400");
          serverStatusEl.classList.add("text-green-400");
        }

        playerListEl.innerHTML = "";

        if (players.length === 0) {
          playerListEl.innerHTML = `
            <div class="text-center py-8 text-gray-400 ios-glass" data-aos="zoom-in">
              <i class="fas fa-users-slash text-4xl mb-2"></i>
              <p>Tidak ada pemain online</p>
            </div>
          `;
        } else {
          players.forEach((player, index) => {
            const ping = player.ping || 0;
            const pingColorClass = getPingColorClass(ping);
            const initials = player.name.split(' ').map(n => n[0]).join('').toUpperCase();

            const div = document.createElement("div");
            div.className = "player-card";
            div.style.animationDelay = `${index * 0.05}s`;
            div.innerHTML = `
              <div class="player-avatar">${initials.substring(0, 2)}</div>
              <div class="player-info">
                <div class="player-name">${player.name}</div>
                <div class="player-id">ID: ${player.id}</div>
              </div>
              <div class="player-ping">
                <span class="${pingColorClass} ping-indicator"></span>
                <span>${ping}ms</span>
              </div>
            `;
            playerListEl.appendChild(div);
          });
        }

        loadingScreen.style.display = "none";
        showToast('Data server diperbarui');

      } catch (error) {
        console.error("Gagal mengambil data:", error);
        loadingScreen.querySelector('p').textContent = "Error: " + error.message;
        connectionStatus.textContent = "Disconnected";
        connectionStatus.classList.remove("text-green-400");
        connectionStatus.classList.add("text-red-400");

        setTimeout(() => {
          currentServerId = null;
          fetchData();
        }, 10000);
      }
    }

    function updateServerInfo(data) {
      if (data && data.Data) {
        serverNameEl.textContent = data.Data.hostname;
        maxPlayersEl.textContent = data.Data.sv_maxclients || 32;
      }
    }

    function startCountdown() {
      countdown = refreshInterval;
      refreshTimerEl.textContent = countdown;
      const timer = setInterval(() => {
        countdown--;
        refreshTimerEl.textContent = countdown;
        if (countdown <= 0) {
          clearInterval(timer);
          fetchData();
          startCountdown();
        }
      }, 1000);
    }

    // Fitur Search
    document.getElementById("search").addEventListener("input", function() {
      const filter = this.value.toLowerCase();
      const players = document.querySelectorAll(".player-card");

      players.forEach(player => {
        const playerName = player.querySelector('.player-name').textContent.toLowerCase();
        if (playerName.includes(filter)) {
          player.style.display = "flex";
        } else {
          player.style.display = "none";
        }
      });
    });

    // Smooth scroll to top ketika halaman dimuat
    window.addEventListener('load', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Resize handler untuk matrix rain
    window.addEventListener('resize', function() {
      matrixCanvas.width = window.innerWidth;
      matrixCanvas.height = window.innerHeight;
    });

    // Inisialisasi
    fetchData();
    startCountdown();
    setInterval(updateCurrentTime, 1000);
    updateCurrentTime();
  </script>
</body>
</html>
